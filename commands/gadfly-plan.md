---
allowed-tools: Read, Glob, Grep, Task, Write, Bash, AskUserQuestion
description: 연구 계획 및 기획. 프로젝트 생성, 아이디어 브레인스토밍, 검색 전략 수립, 시스템 설계를 통합 지원한다.
---

# /gadfly-plan — 연구 계획 및 기획

연구의 시작 단계를 통합 지원합니다. Director가 요청을 분석하여 필요한 하위 기능만 자율적으로 선택·실행합니다.

## 사용법

```
/gadfly-plan <아이디어 또는 연구 주제>
/gadfly-plan <아이디어> --project <프로젝트명>
```

## 하위 기능 트리

Director가 요청 분석 후 필요한 것만 선택하여 실행합니다:

| 하위 기능 | 트리거 조건 | 배치 에이전트 | 내부 레퍼런스 |
|-----------|------------|-------------|--------------|
| 프로젝트 생성 | 프로젝트가 없거나 신규 요청 | (Director only) | `commands/internal/new-project.md` |
| 아이디어 브레인스토밍 | 러프한 아이디어 입력 | ideation + planning | `commands/internal/brainstorm.md` |
| 검색 전략 수립 | 문헌 검색 전략 필요 | planning + search-strategist | `commands/internal/search-strategy.md` |
| 시스템 설계 | 시스템/플랫폼/도구 개발 포함 | **systems-architect** + planning | — (신규) |

## 실행 절차

### Phase 1: Director — 요청 분석 및 프로젝트 확인

1. 사용자의 입력을 분석합니다.
2. `--project`가 지정되면 `projects/<프로젝트명>.md`를 읽어 맥락을 파악합니다.
3. 프로젝트가 없으면 **프로젝트 생성**을 먼저 수행합니다:
   - `commands/internal/new-project.md`의 로직을 참조하여 대화형으로 프로젝트를 생성합니다.
   - `projects/_template.md`를 기반으로 프로젝트 설정 파일 생성
   - `output/<프로젝트>/` 디렉토리 생성
4. `knowledge/core/korean-academic-conventions.md`를 참조합니다.

### Phase 2: Director — 아이디어 수준 판단

아이디어의 구체성을 판단합니다:

- **러프한 아이디어** (키워드 수준, 막연한 관심사) → Phase 3 브레인스토밍부터
- **구체적 아이디어** (RQ가 있거나 이론이 명시됨) → Phase 3 건너뛰고 Phase 4로
- **시스템 연구 감지** → Phase 5 시스템 설계 추가 실행

**시스템 연구 감지 키워드**: "시스템", "플랫폼", "개발", "구현", "아키텍처", "AI 시스템", "프로토타입", "앱", "웹", "챗봇", "LLM", "모델", "파이프라인", "프레임워크 개발", "도구 개발", "소프트웨어"

### Phase 3: 브레인스토밍 (필요 시)

`commands/internal/brainstorm.md`의 로직을 참조하여 실행합니다.

**브레인스토머(gadfly-ideation)**와 **기획전문가(gadfly-planning)**를 **병렬** 배치합니다:

- **브레인스토머 (gadfly-ideation)**:
  - 아이디어를 학술적 언어로 정제
  - 이론 프레임워크 선택 + 정당화
  - 개념의 조작적 정의
  - 연구 질문(RQ) 도출
  - 연구 갭 식별

- **기획전문가 (gadfly-planning)**:
  - 온톨로지 맵으로 개념 관계도 구축
  - 탐색해야 할 상위/인접 개념 도출
  - 연구 포지셔닝 전략 제안
  - 예상 리뷰어 비판 시뮬레이션

### Phase 4: 검색 전략 수립 (필요 시)

`commands/internal/search-strategy.md`의 로직을 참조하여 실행합니다.

**기획전문가(gadfly-planning)**에게 개념 확장을 지시한 후, **검색전략가(gadfly-search-strategist)**에게 검색 전략 수립을 지시합니다:

- Lit Review 서술 전략 (논리 구조)
- 해외 DB 검색식 (Scopus, WoS, ERIC, PubMed)
- 한국 DB 검색식 (RISS, KCI, DBPIA)
- 이중 키워드 매핑 테이블
- PRISMA 흐름도 템플릿
- 스노우볼링 계획

### Phase 5: 시스템 설계 (시스템 연구 감지 시)

**시스템 설계 전문가(gadfly-systems-architect)**와 **기획전문가(gadfly-planning)**를 배치합니다:

- **시스템 설계 전문가 (gadfly-systems-architect)**:
  - 시스템 아키텍처 설계 (전체 구조)
  - 기술 스택 추천 (학술적 정당화 포함)
  - AI/ML 파이프라인 설계 (모델 선택, 평가 전략)
  - 프로토타입 로드맵 (MVP 범위)
  - 재현가능성 확보 전략 (환경, 버전 관리, 실험 관리)
  - `knowledge/domains/ai-systems/` 참조

- **기획전문가 (gadfly-planning)**:
  - 시스템 설계와 연구 전략의 정합성 검토
  - 온톨로지 관점에서 시스템 컴포넌트 관계 구조화

### Phase 6: Director — 통합 보고서 출력

실행된 하위 기능의 결과를 통합하여 최종 보고서를 생성합니다:

```markdown
# 연구 계획 보고서

## 프로젝트: [프로젝트명]

## 1. 프로젝트 설정
(프로젝트 기본 정보 요약)

## 2. 아이디어 정제 (브레인스토밍 수행 시)
- **원본**: (설립자 원문)
- **학술적 재정의**: (학술적 언어로 재구성)
- **연구 질문(RQ)**:
  1. RQ1: ...
  2. RQ2: ...

### 이론 프레임워크 정당화
| 이론/모델 | 선택 근거 | 핵심 개념 | 조작적 정의 |
|-----------|-----------|-----------|------------|

### 개념 온톨로지 맵
(기획전문가의 온톨로지 트리플 기반 개념 관계)

### 예상 리뷰어 비판 시뮬레이션
| 예상 비판 | 대응 전략 |
|-----------|-----------|

## 3. 검색 전략 (수립 시)
### Lit Review 서술 전략
(논리 구조 요약)

### 검색식 요약
| DB | 검색식 | 예상 결과 수 |
|----|--------|-------------|

### 이중 키워드 매핑 테이블
| 개념 | 영어 키워드 | 한국어 키워드 |
|------|------------|-------------|

## 4. 시스템 설계 (시스템 연구 시)
### 아키텍처 개요
(텍스트 기반 다이어그램)

### 기술 스택
| 레이어 | 기술 | 선택 근거 |
|--------|------|-----------|

### AI/ML 파이프라인
(모델 선택, 학습/평가 전략 요약)

### 프로토타입 로드맵
| Phase | 목표 | 산출물 |
|-------|------|--------|

## 5. 다음 단계 로드맵
- Step 1: /gadfly-litreview로 문헌 고찰
- Step 2: /gadfly-method로 방법론 설계
- Step 3: (연구 수행)
- Step 4: /gadfly-result로 결과 분석
- Step 5: /gadfly-conclusion으로 결론 작성
```

보고서를 `output/<프로젝트>/plan-YYYY-MM-DD.md`로 저장합니다.
